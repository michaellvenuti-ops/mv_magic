<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mnemonica Training Lab</title>
    <style>
        :root { --primary: #e63946; --dark: #0b132b; --card-bg: #1c2541; --text-light: #f1faee; --gold: #ffb703; }
        body { font-family: 'Segoe UI', sans-serif; background-color: var(--dark); color: var(--text-light); margin: 0; padding-bottom: 100px; }
        header { background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('https://images.unsplash.com/photo-1544031581-2287c8979116?auto=format&fit=crop&q=80&w=1200'); background-size: cover; padding: 40px; text-align: center; border-bottom: 4px solid var(--primary); }
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }
        .section-box { background: var(--card-bg); padding: 30px; border-radius: 15px; margin-top: 30px; border: 1px solid #3a506b; text-align: center; }
        h2 { color: var(--gold); text-transform: uppercase; }
        
        /* FLASHCARD STYLING */
        .flashcard-area { perspective: 1000px; margin: 40px auto; width: 200px; height: 280px; }
        .card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; cursor: pointer; }
        .card-inner.is-flipped { transform: rotateY(180deg); }
        .card-front, .card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 3rem; font-weight: bold; border: 3px solid var(--gold); }
        .card-front { background: white; color: black; }
        .card-back { background: var(--primary); color: white; transform: rotateY(180deg); flex-direction: column; }
        .card-back span { font-size: 1.2rem; margin-top: 10px; opacity: 0.8; }
        
        .btn { background: var(--primary); color: white; border: none; padding: 15px 30px; border-radius: 5px; cursor: pointer; font-weight: bold; text-transform: uppercase; margin: 10px; }
        .btn:hover { background: var(--gold); color: var(--dark); }
        .back-link { display: block; margin-top: 20px; color: var(--gold); text-decoration: none; font-weight: bold; }
    </style>
</head>
<body>

<header>
    <h1>Mnemonica Lab</h1>
    <p>The Tamariz Master Trainer</p>
</header>

<div class="container">
    <a href="index.html" class="back-link">← Return to Library</a>

    <section class="section-box">
        <h2>Stack Drill</h2>
        <p>Click the card to reveal its stack number. Click "Next Card" to randomize.</p>
        
        <div class="flashcard-area" onclick="this.querySelector('.card-inner').classList.toggle('is-flipped')">
            <div class="card-inner" id="cardContainer">
                <div class="card-front" id="cardFace" style="color: black;">4♣</div>
                <div class="card-back">
                    <div id="cardNumber">1</div>
                    <span>Stack Position</span>
                </div>
            </div>
        </div>
        
        <button class="btn" onclick="nextCard()">Next Random Card</button>
    </section>

    <section class="section-box">
        <h2>Quick Reference</h2>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-family: monospace;">
            <div style="text-align: left;">1: 4♣ | 2: 2♥ | 3: 7♦ | 4: 3♣</div>
            <div style="text-align: left;">5: 4♥ | 6: 6♦ | 7: A♠ | 8: 5♥</div>
        </div>
    </section>
</div>

<script>
    const stack = [
        {n: "4♣", p: 1, r: false}, {n: "2♥", p: 2, r: true}, {n: "7♦", p: 3, r: true},
        {n: "3♣", p: 4, r: false}, {n: "4♥", p: 5, r: true}, {n: "6♦", p: 6, r: true},
        {n: "A♠", p: 7, r: false}, {n: "5♥", p: 8, r: true}, {n: "9♠", p: 9, r: false}
        // Add more of the 52 cards here
    ];

    function nextCard() {
        const container = document.getElementById('cardContainer');
        container.classList.remove('is-flipped');
        
        setTimeout(() => {
            const random = stack[Math.floor(Math.random() * stack.length)];
            document.getElementById('cardFace').innerText = random.n;
            document.getElementById('cardFace').style.color = random.r ? "#e63946" : "black";
            document.getElementById('cardNumber').innerText = random.p;
        }, 200);
    }
</script>
</body>
</html>
